1. NORMALIZATION

Users
ID	FORMALITY	NAME*	MIDDLE_NAME	LAST_NAME*	SECOND_LAST_NAME	DOCUMENT_ID*	NATIONALITY*	BIRTHDATE(YYYYmmDD)*	BIRTH_COUNTRY*	BIRTH_PROVIDENCE*	BIRTH_CITY* POSTAL_CODE ADDRESS* ADDRESS_DETAIL	EMAIL*	PHONE_COUNTRY_PREFIX*	CELLPHONE* PASSWORD* ACCEPTED_TERMS*	ACCEPTED_BULLETIN	SPORT_BETS_EMAILS SMS BROWSER_NOTIFICATIONS BET_CHART_NOTIFICATION	PROMO_CODE_ID DEPOSIT_LIMIT_ID DELETED

Documents
ID DOCUMENT_TYPE* EXPEDITION_COUNTRY* EXPEDITION_DATE(YYYYmmDD)* DELETED

Deposit_Limits
ID DAILY_DEPOSIT_LIMIT DAILY_DEPOSIT_TIMESTAMP DAILY_BET_LIMIT DAILY_BET_TIMESTAMP WEEKLY_DEPOSIT_LIMIT	WEEKLY_DEPOSIT_TIMESTAMP	WEEKLY_BET_LIMIT	WEEKLY_BET_TIMESTAMP	MONTHLY_DEPOSIT_LIMIT	MONTHLY_DEPOSIT_TIMESTAMP MONTHLY_BET_LIMIT	MONTHLY_BET_TIMESTAMP DELETED

Promo_Codes
ID PROMO_CODE START_DATE END_DATE STATUS DELETED

Users_Bets
USER_ID BET_DETAIL_ID DELETED

Bets
ID BET_STATE BET_TYPE MATCH_ID BET_MULTIPLIER_1 BET_MULTIPLIER_2 BET_MULTIPLIER_3 DELETED

Matches
ID LOCAL VISITOR DATE TIME STATUS DELETED

Bets_Details
ID BET_ID MATCH_ID BET_OPTION BET_MULTIPLIER BET_AMOUNT STATUS DELETED

Deposits
ID DEPOSIT_AMOUNT PAYMENT_METHOD_ID DEPOSIT_DESCRIPTION STATUS TIMESTAMP DELETED

Payment_Methods
ID PAYMENT_NAME PAYMENT_LOWER_LIMIT PAYMENT_UPPER_LIMIT DELETED

Users_Deposits
ID USER_ID DEPOSIT_ID DELETED

Withdrawals
ID WITHDRAWAL_AMOUNT USER_BANK_ACCOUNT_ID WITHDRAWAL_REQUIREMENTS	USER_SECURITY_DOCUMENT_ID  TIMESTAMP STATUS DELETED

User_Bank_Accounts
ID USER_ID BANK_ID ACCOUNT_NUMBER

Banks
ID BANK_NAME DELETED

Users_Security_Documents
ID USER_ID SECURITY_DOCUMENT_ID DELETED

Security_Documents
ID NAME SECURITY_DOCUMENT_TYPE FILE_SIZE FILE_EXTENSION FILE_URL DELETED

Bet_Auditing_Table
ID TIMESTAMP TABLE RECORD_ID ACTION USER IP

2. TABLESPACES


CREATE SMALLFILE TABLESPACE BET_ITM
    DATAFILE 'C:\BET_ITM\BET_ITM1.DBF' SIZE 512M
    DATAFILE 'C:\BET_ITM\BET_ITM2.DBF' SIZE 512M
    EXTENT MANAGEMENT LOCAL AUTOALLOCATE;

CREATE BIGFILE TABLESPACE BET_AUDITING
    DATAFILE 'C:\BET_ITM\lmtbsb01' SIZE 2G
    EXTENT MANAGEMENT LOCAL AUTOALLOCATE;

CREATE UNDO TABLESPACE UNDO_BET_ITM
    DATAFILE 'C:\BET_ITM\BET_ITM_UNDO.DBF' SIZE 500M;


3. PROFILES

CREATE  PROFILE developer LIMIT
    SESSIONS_PER_USER 1
    CONNECT_TIME 60
    IDLE_TIME 30
    FAILED_LOGIN_ATTEMPS 5
    PASSWORD_LIFE_TIME 90;

CREATE  PROFILE web_application LIMIT
    SESSIONS_PER_USER 5
    CONNECT_TIME UNLIMITED
    IDLE_TIME UNLIMITED
    FAILED_LOGIN_ATTEMPS 2
    PASSWORD_LIFE_TIME 30;

 CREATE  PROFILE dba_admin LIMIT
    SESSIONS_PER_USER 1
    CONNECT_TIME 30
    IDLE_TIME UNLIMITED
    FAILED_LOGIN_ATTEMPS 2
    PASSWORD_LIFE_TIME 30;

CREATE  PROFILE analyst LIMIT
    SESSIONS_PER_USER 1
    CONNECT_TIME 30
    IDLE_TIME 5
    FAILED_LOGIN_ATTEMPS 3
    PASSWORD_LIFE_TIME 30
    PASSWORD_GRACE_TIME 3;

CREATE  PROFILE support_iii LIMIT
    SESSIONS_PER_USER 1
    CONNECT_TIME 240
    IDLE_TIME 5
    FAILED_LOGIN_ATTEMPS 3
    PASSWORD_LIFE_TIME 20
    PASSWORD_GRACE_TIME 5;

CREATE  PROFILE reporter LIMIT
    SESSIONS_PER_USER 1
    CONNECT_TIME 90
    IDLE_TIME 15
    FAILED_LOGIN_ATTEMPS 4
    PASSWORD_LIFE_TIME UNLIMITED
    PASSWORD_GRACE_TIME 5;

CREATE  PROFILE auditor LIMIT
    SESSIONS_PER_USER 1
    CONNECT_TIME 90
    IDLE_TIME 15
    FAILED_LOGIN_ATTEMPS 4
    PASSWORD_LIFE_TIME UNLIMITED
    PASSWORD_GRACE_TIME 5;

4. ROLES AND PRIVILEGES

    I. The PUBLIC role is a default role that every account has when it is created, it has no privileges but it has grants to specific java objects. 
    II. The DBA_SYS_PRIVS retrieves information about user privileges related to the system. The DBA_TAB_PRIVS retrieves information about user privileges to the tables. The DBA_ROLE_PRIVS retrieves information about user privileges to roles modifications.
    III. Categories privileges:
        - SYSTEM Privileges, the right or hability to perform an action on any object of a particular type (tables, views, indexes, sequences, etc), only a user with ADMIN privilege can grant or revoke system privileges.
        - OBJECT Privileges, the right or hability to perform a particular action on an object or access another user's object (tables, views, indexes, sequences, etc). An object owner has all object privileges for that object, and those privileges can't be revoked. The owner can grant object privileges to other database users. A user with ADMIN privilege can grant and revoke object privileges from users who do not own the objects on which the privileges are granted.
        - PRIVILEGE Hierarchy, some privileges confer other privileges, ex. ADMIN privilege confers all other privileges. CREATE ANY TABLE system privilege confers the CREATE TABLE object privilege.

5. USERS

GRANT CREATE SESSION TO developer, web_application, dba_admin, analyst, support_iii, reporter, auditor;

CREATE USER developer_user
    IDENTIFIED BY developer
    PROFILE developer
    DEFAULT TABLESPACE BET_ITM;

CREATE USER web_user
    IDENTIFIED BY webpage
    PROFILE web_application
    DEFAULT TABLESPACE BET_ITM;

CREATE USER dba_user
    IDENTIFIED BY dba
    PROFILE dba_admin
    DEFAULT TABLESPACE BET_ITM;

CREATE USER analyst_user
    IDENTIFIED BY analyst
    PROFILE analyst
    DEFAULT TABLESPACE BET_ITM;

CREATE USER support_user
    IDENTIFIED BY support
    PROFILE support_iii
    DEFAULT TABLESPACE BET_ITM;

CREATE USER reporter_user
    IDENTIFIED BY reporter
    PROFILE reporter
    DEFAULT TABLESPACE BET_ITM;

CREATE USER auditor_user
    IDENTIFIED BY auditor
    PROFILE auditor
    DEFAULT TABLESPACE BET_ITM;

CREATE USER backup_dba
    IDENTIFIED BY dbabackup
    PROFILE dba_admin
    DEFAULT TABLESPACE BET_ITM;

CREATE USER backup_developer
    IDENTIFIED BY devbackup
    PROFILE developer
    DEFAULT TABLESPACE BET_ITM;

CREATE USER backup_web
    IDENTIFIED BY webbackup
    PROFILE web_application
    DEFAULT TABLESPACE BET_ITM;
